\chapter{Transfer
of Causal Knowledge}
\label{ch-transfer-causal}

This 
chapter is mostly
based on 
Refs.\cite{pearl2011trans}
and \cite{book-brady-neal}.


\begin{figure}[h!]
$$
\begin{array}{ccc}
\xymatrix{
&\rvx\ar[dl]\ar[dr]
&
\\
\rvy\ar[rr]
&&\rvz
}
&
\xymatrix{
&\rvx\ar[dl]\ar[dr]
&\rvs\ar[d]\ar[l]
\\
\rvy\ar[rr]
&&\rvz
}
\\
G&G_\rvs
\end{array}
$$
\caption{Example of selection bnet
$G_\rvs$ created from bnet $G$.}
\label{fig-sel-dia}
\end{figure}

Suppose one wants
to 
transfer causal knowledge from
a {\bf source population} $\Sigma$ to a 
{\bf target population} $\Sigma^*$.

Given a bnet $G$, define a
{\bf selection diagram} $G_\rvs$
as a bnet 
formed by adding to $G$ 
a new root node $\rvs$
and new arrows pointing
from {\bf bnet-switch (a.k.a, bnet-selector}
$\rvs$ to one
or more {\bf target nodes} of $G$.
We'll call the set 
of target nodes 
of $\rvs$ the {\bf target set} $T_\rvs$.
$\rvs=0$ corresponds to population $\Sigma$
and $\rvs=1$ to population $\Sigma^*$.
For bnet $G$, 
the TPM for 
a node $\rvx$
with parents $pa(\rvx)$, 
is given by: 


\beq
P_G(x|pa(x))=P(x|pa(x))
\eeq
For bnet $G_\rvs$,
nodes $\rvx$ with
parents $pa(\rvx)$, where 
$\rvs\not\in pa(\rvx)$, have TPMs:

\beq
P_{G_\rvs}(x|pa(x))=P(x|pa(x))
\;.
\eeq
Nodes $\rvx$ with parents
 $pa(\rvx)=pa^-(\rvx)\cup\rvs$, have TPMs:
\beq
P_{G_\rvs}(x|pa(x))=
\left\{
\begin{array}{ll}
P(x|pa^-(x))&\text{if } \rvs=0
\\
P^*(x|pa^-(x))&\text{if } \rvs=1
\end{array}
\right.
\eeq

Fig.\ref{fig-sel-dia}
shows an example
of a selection diagram $G_\rvs$.
In that figure, the target set 
of $\rvs$ is 
$\{\rvx,\rvz\}$.

All this can be generalized so as to 
have more than one bnet-switch,
with the target sets
of the bnet-switches being disjoint,
and such that a
bnet-switch
can have more than 2 states.





{\bf Do-transport formulae}

\begin{claim}
\decTransferTrivial
\end{claim}
\proof
See Claim \ref{cl-decTransferTrivial}.
\qed


\begin{claim}
\decTransferDirect
\end{claim}
\proof
See Claim \ref{cl-decTransferDirect}.
\qed


\begin{claim}
\decTransferBox
\end{claim}
\proof
See Claim 
\ref{cl-decTransferBox}.
\qed


%\decTransferOne merged
%with decDirectTransfer

\begin{claim}
\decTransferNon
\end{claim}
\proof
See Claim 
\ref{cl-decTransferNon}.
\qed

\begin{claim}
\decTransferTwo
\end{claim}
\proof
See Claim \ref{cl-decTransferTwo}.
\qed

\begin{claim}
\decTransferThree
\end{claim}
\proof
See Claim \ref{cl-decTransferThree}.
\qed